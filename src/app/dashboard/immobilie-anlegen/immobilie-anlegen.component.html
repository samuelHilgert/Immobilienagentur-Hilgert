<div class="immobilie-anlegen">
    <h2>Neue Immobilie anlegen</h2>
  
    <nav class="immobilien-nav">
      <ul class="immobilien-menu">
        <li (click)="setImmobilienArt('wohnung')" [class.active]="selectedArt === 'wohnung'">Wohnung</li>
        <li (click)="setImmobilienArt('haus')" [class.active]="selectedArt === 'haus'">Haus</li>
        <li (click)="setImmobilienArt('grundstueck')" [class.active]="selectedArt === 'grundstueck'">Grundst√ºck</li>
      </ul>
    </nav>
  
    <!-- Gemeinsames Formular f√ºr ALLE Immobilien -->
    <form (ngSubmit)="selectedArt === 'wohnung' ? submitWohnung() : 
    selectedArt === 'haus' ? submitHaus() : 
    submitGrundstueck()" class="immobilien-form">

      <h3>Allgemeine Immobiliendaten</h3>
  
      <input type="text" [(ngModel)]="immobilie.externalId" name="externalId" placeholder="Externe ID">
      <input type="text" [(ngModel)]="immobilie.title" name="title" placeholder="Titel" required>
      <input type="text" [(ngModel)]="immobilie.street" name="street" placeholder="Stra√üe" required>
      <input type="text" [(ngModel)]="immobilie.houseNumber" name="houseNumber" placeholder="Hausnummer" required>
      <input type="text" [(ngModel)]="immobilie.postcode" name="postcode" placeholder="PLZ" required>
      <input type="text" [(ngModel)]="immobilie.city" name="city" placeholder="Stadt" required>
  
      <textarea [(ngModel)]="immobilie.descriptionNote" name="descriptionNote" placeholder="Beschreibung"></textarea>
      <textarea [(ngModel)]="immobilie.locationNote" name="locationNote" placeholder="Lage"></textarea>
      <textarea [(ngModel)]="immobilie.otherNote" name="otherNote" placeholder="Sonstige Anmerkungen"></textarea>
  
      <input type="number" [(ngModel)]="immobilie.value" name="value" placeholder="Kaufpreis (‚Ç¨)" required>
  
      <select [(ngModel)]="immobilie.hasCourtage" name="hasCourtage" required>
        <option value="YES">Provision: Ja</option>
        <option value="NO">Provision: Nein</option>
        <option value="NOT_APPLICABLE">Provision: Nicht zutreffend</option>
      </select>
  
      <input type="text" [(ngModel)]="immobilie.courtage" name="courtage" placeholder="Provision">
      <textarea [(ngModel)]="immobilie.courtageNote" name="courtageNote" placeholder="Provisionshinweis"></textarea>
  
      <input type="text" [(ngModel)]="immobilie.marketingType" name="marketingType" value="PURCHASE" disabled>
      <input type="text" [(ngModel)]="immobilie.creationDate" name="creationDate" placeholder="Erstellungsdatum" disabled>
      <input type="text" [(ngModel)]="immobilie.lastModificationDate" name="lastModificationDate" placeholder="Letzte √Ñnderung" disabled>
  
      <h3>Bilder & Videos hochladen</h3>
      <input type="file" (change)="uploadMedia($event, 'image')">
      <button (click)="uploadMedia($event, 'video')">Video hochladen</button>

      <div *ngFor="let media of uploadedMedia">
          <img *ngIf="media.type === 'image'" [src]="media.url" width="100">
          <video *ngIf="media.type === 'video'" [src]="media.url" controls width="200"></video>
      </div>

      <!-- üîπ Zus√§tzliche Felder f√ºr Wohnungen -->
      <div *ngIf="selectedArt === 'wohnung'" class="zusatzfeld">
        <h3>Wohnungsdetails</h3>
  
        <input type="text" [(ngModel)]="wohnung.searchField1" name="searchField1" placeholder="Suchfeld 1">
        <input type="text" [(ngModel)]="wohnung.searchField2" name="searchField2" placeholder="Suchfeld 2">
        <input type="text" [(ngModel)]="wohnung.searchField3" name="searchField3" placeholder="Suchfeld 3">
        <input type="number" [(ngModel)]="wohnung.groupNumber" name="groupNumber" placeholder="Gruppennummer">
  
        <textarea [(ngModel)]="wohnung.furnishingNote" name="furnishingNote" placeholder="Ausstattung"></textarea>
  
        <input type="checkbox" [(ngModel)]="wohnung.showAddress" name="showAddress"> Adresse anzeigen
  
        <select [(ngModel)]="wohnung.apartmentType" name="apartmentType">
          <option value="APARTMENT">Etagenwohnung</option>
          <option value="ROOF_STOREY">Dachgeschoss</option>
          <option value="LOFT">Loft</option>
          <option value="MAISONETTE">Maisonette</option>
          <option value="PENTHOUSE">Penthouse</option>
          <option value="GROUND_FLOOR">Erdgeschoss</option>
          <option value="RAISED_GROUND_FLOOR">Hochparterre</option>
          <option value="HALF_BASEMENT">Souterrain</option>
          <option value="OTHER">Sonstiges</option>
        </select>
  
        <input type="number" [(ngModel)]="wohnung.floor" name="floor" placeholder="Etage">
        <input type="checkbox" [(ngModel)]="wohnung.lift" name="lift"> Aufzug vorhanden
        <input type="checkbox" [(ngModel)]="wohnung.balcony" name="balcony"> Balkon
        <input type="checkbox" [(ngModel)]="wohnung.builtInKitchen" name="builtInKitchen"> Einbauk√ºche
        <input type="checkbox" [(ngModel)]="wohnung.garden" name="garden"> Garten
  
        <input type="number" [(ngModel)]="wohnung.numberOfRooms" name="numberOfRooms" placeholder="Anzahl Zimmer" required>
        <input type="number" [(ngModel)]="wohnung.livingSpace" name="livingSpace" placeholder="Wohnfl√§che (m¬≤)" required>
  
        <input type="number" [(ngModel)]="wohnung.numberOfBedRooms" name="numberOfBedRooms" placeholder="Anzahl Schlafzimmer">
        <input type="number" [(ngModel)]="wohnung.numberOfBathRooms" name="numberOfBathRooms" placeholder="Anzahl Badezimmer">
        <input type="number" [(ngModel)]="wohnung.usableFloorSpace" name="usableFloorSpace" placeholder="Nutzfl√§che (m¬≤)">
  
        <select [(ngModel)]="wohnung.condition" name="condition">
          <option value="NO_INFORMATION">Keine Info</option>
          <option value="FIRST_TIME_USE">Erstbezug</option>
          <option value="REFURBISHED">Renoviert</option>
          <option value="MODERNIZED">Modernisiert</option>
          <option value="NEED_OF_RENOVATION">Renovierungsbed√ºrftig</option>
        </select>
  
        <input type="number" [(ngModel)]="wohnung.constructionYear" name="constructionYear" placeholder="Baujahr">
        <input type="number" [(ngModel)]="wohnung.parkingSpacePrice" name="parkingSpacePrice" placeholder="Stellplatzpreis (‚Ç¨)">
        
        <input type="text" [(ngModel)]="wohnung.heatingType" name="heatingType" placeholder="Heizungsart">
        <input type="text" [(ngModel)]="wohnung.firingType" name="firingType" placeholder="Brennstoffart">
  
        <input type="number" [(ngModel)]="wohnung.latitude" name="latitude" placeholder="Breitengrad">
        <input type="number" [(ngModel)]="wohnung.longitude" name="longitude" placeholder="L√§ngengrad">
  
        <input type="checkbox" [(ngModel)]="wohnung.energyPerformanceCertificate" name="energyPerformanceCertificate"> Energieausweis vorhanden
  
        <input type="number" [(ngModel)]="wohnung.serviceCharge" name="serviceCharge" placeholder="Nebenkosten (‚Ç¨)">
      </div>
  
      <button type="submit">Immobilie speichern</button>
    </form>
  </div>
  