<!-- src/app/.../property-docs-sets/property-docs-sets.component.html -->
<section class="section-bg-v1">
  <div *ngIf="immobilie" class="go-back-btn-div">
    <a
      class="go-back-btn"
      [routerLink]="[
        '/dashboard/immobilien',
        (immobilie.propertyType.toLowerCase() || '') + '-details-form',
        immobilie.externalId
      ]"
    >
      ZurÃ¼ck
    </a>
  </div>

  <h2>Dokumente verwalten</h2>

  <div *ngIf="isLoading">Lade â€¦</div>

  <ng-container *ngIf="!isLoading">
    <div class="upload-row" *ngIf="isAdmin">
      <label class="upload-btn">
        <input type="file" (change)="onFileSelected($event)" [disabled]="uploading" />
        {{ uploading ? 'Lade hochâ€¦' : 'ðŸ“„ Neues Dokument hochladen' }}
      </label>
    </div>

    <div *ngIf="docs.length === 0" class="empty">
      Keine Dokumente vorhanden.
    </div>

    <ul class="docs-list" *ngIf="docs.length > 0">
      <li *ngFor="let d of docs" class="doc-item">
        <div class="meta">
          <div class="name" title="{{ d.fileName }}">
            {{ d.displayName || d.fileName }}
          </div>
          <div class="sub">
            {{ d.uploadDate | date:'short' }}
            â€¢ {{ d.contentType || 'Datei' }}
            â€¢ {{ d.fileName }}
          </div>
        </div>

        <div class="actions" *ngIf="isAdmin">
          <button type="button" (click)="view(d)">Ansehen</button>
          <button type="button" (click)="rename(d)">Umbenennen</button>
          <button type="button" class="danger" (click)="remove(d)">LÃ¶schen</button>
        </div>
      </li>
    </ul>
  </ng-container>
</section>
