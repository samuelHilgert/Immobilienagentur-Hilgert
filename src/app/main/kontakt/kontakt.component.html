<section class="section-bg-v2" id="kontakt">
    <div class="cards-container">
      <!-- Front Card -->
      <mat-card class="card front-card" [class.active]="!isBackVisible" (click)="showBack($event)">
        <div class="contact-container-front">
          <div class="contact-headline">
            <h3>Haben Sie Fragen?</h3>
            <h3><b>Wir haben Antworten.</b></h3>
            <h3>Schreiben Sie uns.</h3>
          </div>
          <p>
            Haben Sie eine Frage oder ein besonderes Anliegen? Wir sind für Sie da!
            Nutzen Sie unser Kontaktformular oder erreichen Sie uns direkt über unsere
            Kontaktdaten. Wir freuen uns auf den Austausch mit Ihnen!
          </p>
      
          <div class="contact-informations">
            <div class="main-contact">
              <div class="contact-item">
                <a href="mailto:info@hilgert-immobilien.de" (click)="$event.stopPropagation()">
                  <mat-icon>email</mat-icon>
                  <span>info&#64;hilgert-immobilien.de</span>
                </a>
              </div>
      
              <div class="contact-item">
                <a href="tel:+4962049803080" (click)="$event.stopPropagation()">
                  <mat-icon>phone</mat-icon>
                  <span>+49 (0) 6204 980 30 80</span>
                </a>
              </div>
      
              <div class="contact-item">
                <a href="https://maps.google.com/?q=Eichendorffstraße+22,+68419+Viernheim" target="_blank" (click)="$event.stopPropagation()">
                  <mat-icon>location_on</mat-icon>
                  <span>Eichendorffstraße 22, 68519 Viernheim</span>
                </a>
              </div>
            </div>
          </div>
        </div>
  
        <button mat-raised-button color="primary" (click)="showBack($event)">
          Zum Kontaktformular
          <mat-icon>arrow_forward</mat-icon>
        </button>
      </mat-card>
  
      <!-- Back Card -->
      <mat-card class="card back-card" [class.active]="isBackVisible" (click)="showFront($event)">
        <div class="contact-form-container" (click)="$event.stopPropagation()">
          <mat-card-header>
            <mat-card-title><h4>Kontaktieren Sie uns</h4></mat-card-title>
            <mat-card-subtitle>
              Füllen Sie das Formular aus und wir werden uns schnellstmöglich bei
              Ihnen melden.
            </mat-card-subtitle>
          </mat-card-header>
      
          <mat-card-content>
            <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
              <div class="name-row">
                <mat-form-field appearance="outline">
                  <mat-label>Vorname</mat-label>
                  <input matInput formControlName="firstName" required />
                  <mat-error *ngIf="firstNameControl?.errors?.['required']">
                    Vorname ist erforderlich
                  </mat-error>
                  <mat-error *ngIf="firstNameControl?.errors?.['minlength']">
                    Vorname muss mindestens 3 Zeichen lang sein
                  </mat-error>
                </mat-form-field>
      
                <mat-form-field appearance="outline">
                  <mat-label>Nachname</mat-label>
                  <input matInput formControlName="lastName" required />
                  <mat-error *ngIf="lastNameControl?.errors?.['required']">
                    Nachname ist erforderlich
                  </mat-error>
                  <mat-error *ngIf="lastNameControl?.errors?.['minlength']">
                    Nachname muss mindestens 3 Zeichen lang sein
                  </mat-error>
                </mat-form-field>
              </div>
      
              <div class="contact-row">
                <mat-form-field appearance="outline">
                  <mat-label>E-Mail</mat-label>
                  <input matInput formControlName="email" required type="email" />
                  <mat-error *ngIf="emailControl?.errors?.['required']">
                    E-Mail ist erforderlich
                  </mat-error>
                  <mat-error *ngIf="emailControl?.errors?.['email']">
                    Bitte geben Sie eine gültige E-Mail-Adresse ein
                  </mat-error>
                </mat-form-field>
      
                <mat-form-field appearance="outline">
                  <mat-label>Telefon (optional)</mat-label>
                  <input matInput formControlName="phone" type="tel" />
                </mat-form-field>
              </div>
      
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Firma (optional)</mat-label>
                <input matInput formControlName="company" />
              </mat-form-field>
      
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Betreff</mat-label>
                <input matInput formControlName="subject" required />
                <mat-error *ngIf="subjectControl?.errors?.['required']">
                  Betreff ist erforderlich
                </mat-error>
              </mat-form-field>
      
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Nachricht</mat-label>
                <textarea matInput formControlName="message" required rows="6"></textarea>
                <mat-error *ngIf="messageControl?.errors?.['required']">
                  Nachricht ist erforderlich
                </mat-error>
              </mat-form-field>
      
              <div class="button-row">
                <button
                  class="standard-btn"
                  mat-raised-button
                  color="primary"
                  type="submit"
                  [disabled]="isSubmitting"
                >
                  <span *ngIf="!isSubmitting">Absenden</span>
                  <span *ngIf="isSubmitting">wird zugestellt...</span>
                </button>
                <button
                  mat-button
                  type="button"
                  (click)="resetForm($event)"
                  [disabled]="isSubmitting"
                >
                  Zurücksetzen
                </button>
              </div>
            </form>
          </mat-card-content>
        </div>
        <!-- <button mat-button (click)="showFront($event)">
          <mat-icon>arrow_back</mat-icon>
          Zurück
        </button> -->
      </mat-card>
    </div>
  </section>